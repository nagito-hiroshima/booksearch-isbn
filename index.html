<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="./logsend.js"></script>
    <title>書籍一覧</title>
</head>

<body>
    <link rel="stylesheet" href="https://cdn.datatables.net/t/bs-3.3.6/jqc-1.12.0,dt-1.10.11/datatables.min.css" />    
    <link rel="stylesheet" href="./test.css" />
    <script src="https://cdn.datatables.net/t/bs-3.3.6/jqc-1.12.0,dt-1.10.11/datatables.min.js"></script>
    <script>

        function test() {
            var table = document.getElementById('foo-table');  //表のオブジェクトを取得

            for (j = 1; j < jsonObj.length; j++) {
                var row = table.insertRow(-1);  //行末に行(tr要素)を追加
                var cell = row.insertCell(0);  //セル(td要素)の追加
                for (q = 1; q < 25; q++) {
                    eval('var cell' + q + ' = row.insertCell(' + q + ');')
                }

                cell.innerHTML = "<img class='book_img' src='" + jsonObj[j][17] + "'>"
                cell1.innerHTML = "<div class='book_view'><div class='book_title'>"+jsonObj[j][1]+"</div><div class='book_name'>"+jsonObj[j][7]+"</div><div class='book_cp'> "+jsonObj[j][9]+"</div><div class='book_data'>"+jsonObj[1][10].substr(0,10)+"</div></div>"
                for (i = 2; i < 25; i++) {
                    eval('cell' + i + '.innerHTML= "<div class=table"+'+i+' +">" + jsonObj[' + j + '][' + (i - 2) + ']+" </div>"')
                }
            }


            table.deleteRow(1);

            jQuery(function ($) {
                // デフォルトの設定を変更
                $.extend($.fn.dataTable.defaults, {
                    language: {
                        url: "http://cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Japanese.json"
                    },
                    columnDefs: [
                        // 1列目を消す(visibleをfalseにすると消えます)
                        { targets: [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,24], visible: false },
                    ]
                });
                $("#foo-table").DataTable();
            });
        }

        send("book_cheak")


    </script>

    <table id="foo-table" class="table table-bordered">
        <thead>
            <tr>
                <th>本の画像</th>
                <th>一覧</th>
                <th>ISBN</th>
                <th>タイトル</th>
                <th>タイトルかな</th>
                <th>サブタイトル</th>
                <th>サブタイトルかな</th>
                <th>シリーズ</th>
                <th>シリーズかな</th>
                <th>著者</th>
                <th>著者かな</th>
                <th>出版社</th>
                <th>出版日</th>
                <th>ページ数</th>
                <th>分類</th>
                <th>内容紹介</th>
                <th>著者紹介</th>
                <th>キーワード</th>
                <th>価格</th>
                <th>画像</th>
                <th>登録数</th>
                <th>予約数</th>
                <th>貸出数</th>
                <th>在庫数</th>
                <th>貸し出し許可</th>
            </tr>
        </thead>
        <tbody>

            <tr>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
            </tr>
        </tbody>
    </table>
</body>


<script>


</script>

</html>